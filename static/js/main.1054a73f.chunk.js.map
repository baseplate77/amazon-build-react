{"version":3,"sources":["StateProvider.js","firebase.js","header.js","Product.js","home.js","SubTotal.js","CheckoutItem.js","checkout.js","Login.js","reducer.js","axios.js","payment.js","Order.js","Orders.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","dispatch","console","log","className","to","src","email","onClick","signOut","type","length","Product","id","title","price","rating","img","Array","fill","map","_","item","Home","key","SubTotal","totalPrice","NumberItem","history","useHistory","renderText","displayType","thousandSeparator","prefix","e","push","CheckoutItem","hideButton","useState","remove","setRemove","fade","useSpring","opacity","height","config","duration","div","style","setTimeout","index","findIndex","splice","Checkout","toFixed","Login","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","getTotalPrice","reduce","pre","cur","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","disable","setDisable","processing","setProcessing","setError","succeeded","setSucceeded","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","paymentId","amount","date","created","replace","onSubmit","empty","color","disabled","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","Promise","loadStripe","App","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","state","action","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"wRAGaA,G,MAAeC,2BAGfC,EAAgB,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SACrD,OACE,kBAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,IAC/CC,IAMMI,EAAgB,kBAAMC,qBAAWV,I,iBCAxCW,EAFcC,IAASC,cAXN,CACrBC,OAAQ,0CACRC,WAAY,mCACZC,YAAa,0CACbC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKMC,YACjBC,EAAOX,IAASW,OCkDPC,MA3Df,WAAmB,IAAD,EACqBf,IADrB,0BACPgB,EADO,EACPA,OAAQC,EADD,EACCA,KAAQC,EADT,KAahB,OADAC,QAAQC,IAAI,cAAeH,GAEzB,yBAAKI,UAAU,UACb,kBAAC,IAAD,CAAMC,GAAG,KACP,yBACED,UAAU,cACVE,IAAI,uDAGR,yBAAKF,UAAU,qBACb,gCACA,kBAAC,IAAD,OAEF,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,yBAAhB,UACUJ,EAAOA,EAAKO,MAAQ,SAE9B,kBAAC,IAAD,CAAMF,IAAKL,GAAQ,UACjB,0BAAMI,UAAU,wBAAwBI,QA7B9B,WACdR,IACFH,EAAKY,UACLR,EAAS,CACPS,KAAM,WACNV,KAAM,OAERE,QAAQC,IAAI,eAAgBH,MAuBnBA,EAAO,WAAa,aAI3B,kBAAC,IAAD,CAAMK,GAAG,WACP,yBAAKD,UAAU,kBACb,0BAAMA,UAAU,yBAAhB,UACA,0BAAMA,UAAU,yBAAhB,cAGJ,yBAAKA,UAAU,kBACb,0BAAMA,UAAU,yBAAhB,OACA,0BAAMA,UAAU,yBAAhB,UAEF,kBAAC,IAAD,CAAMC,GAAG,aACP,yBAAKD,UAAU,wBACb,kBAAC,IAAD,MACA,0BAAMA,UAAU,uCACbL,EAAOY,a,YCbPC,MAxCf,YAAqD,IAAlCC,EAAiC,EAAjCA,GAAIC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,OAAQC,EAAO,EAAPA,IAAO,EACnBlC,IADmB,mBAC/BkB,GAD+B,KACzCF,OADyC,MAgBlD,OACE,yBAAKK,UAAU,WAEb,yBAAKA,UAAU,iBACb,uBAAGA,UAAU,sBAAsBU,GACnC,uBAAGV,UAAU,sBACX,oCACA,gCAASW,IAEX,yBAAKX,UAAU,mBACZc,MAAMF,GACJG,OACAC,KAAI,SAACC,GAAD,OACH,0CAIR,yBAAKjB,UAAU,qBAAqBE,IAAKW,IACzC,4BAAQT,QA/BQ,WAClBP,EAAS,CACPS,KAAM,gBACNY,KAAM,CACJT,GAAIA,EACJC,MAAOA,EACPC,MAAOA,EACPC,OAAQA,EACRC,IAAKA,OAuBP,mBCiCSM,MAnEf,WACE,OACE,yBAAKnB,UAAU,QACb,yBAAKA,UAAU,mBACb,yBACEA,UAAU,cACVE,IAAI,uIAEN,yBAAKF,UAAU,aACb,kBAAC,EAAD,CACEoB,IAAK,EACLX,GAAI,EACJC,MAAM,oDACNC,MAAO,MACPC,OAAQ,EACRC,IAAI,wDAEN,kBAAC,EAAD,CACEO,IAAK,EACLX,GAAI,EACJC,MAAM,uGACNC,MAAO,OACPC,OAAQ,EACRC,IAAI,+EAGR,yBAAKb,UAAU,aACb,kBAAC,EAAD,CACEoB,IAAK,EACLX,GAAI,EACJC,MAAM,0CACNC,MAAO,OACPC,OAAQ,EACRC,IAAI,8EAEN,kBAAC,EAAD,CACEO,IAAK,EACLX,GAAI,EACJC,MAAM,mEACNC,MAAO,QACPC,OAAQ,EACRC,IAAI,gFAEN,kBAAC,EAAD,CACEO,IAAK,EACLX,GAAI,EACJC,MAAM,kGACNC,MAAO,QACPC,OAAQ,EACRC,IAAI,+EAGR,yBAAKb,UAAU,aACb,kBAAC,EAAD,CACEoB,IAAK,EACLX,GAAI,EACJC,MAAM,4GACNC,MAAO,QACPC,OAAQ,EACRC,IAAI,kF,+BC7BDQ,MA5Bf,YAA+C,IAA3BC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,WACxBC,EAAUC,cAD4B,EAEb9C,IAFa,mBAG5C,OAH4C,KAEnCgB,OAFmC,KAI1C,yBAAKK,UAAU,YACb,kBAAC,IAAD,CACE0B,WAAY,SAACjD,GAAD,OACV,yCACa8C,EADb,aACmC9C,IAGrCA,MAAO6C,EACPK,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAGV,yBAAK7B,UAAU,kBACb,2BAAOM,KAAK,aADd,8BAIA,4BAAQF,QAAS,SAAC0B,GAAD,OAAON,EAAQO,KAAK,cAArC,yB,gBCwBSC,MA9Cf,YAAsE,IAA9CvB,EAA6C,EAA7CA,GAAIC,EAAyC,EAAzCA,MAAOC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,IAAKoB,EAAc,EAAdA,WAAc,EACpCtD,IADoC,mBAC1DgB,EAD0D,KAC1DA,OAAUE,EADgD,OAEvCqC,qBAFuC,mBAE5DC,EAF4D,KAEpDC,EAFoD,KAG7DC,EAAOC,YAAU,CACrBC,QAASJ,EAAS,EAAI,EACtBK,OAAQL,EAAS,QAAU,QAC3BM,OAAQ,CAAEC,SAAU,OActB,OACE,kBAAC,IAASC,IAAV,CAAc3C,UAAU,eAAe4C,MAAOP,GAC5C,yBAAKrC,UAAU,IACb,yBAAKA,UAAU,oBAAoBE,IAAKW,KAE1C,yBAAKb,UAAU,sBACb,4BAAKU,GACL,2BACE,oCACA,gCAASC,IAEX,yBAAKX,UAAU,wBACZc,MAAMF,GACJG,OACAC,KAAI,SAACC,GAAD,OACH,gDAGJgB,GACA,4BAAQ7B,QA/BS,WACvBgC,GAAWD,GACXU,YAAW,WACT,IAAMC,EAAK,OAAGnD,QAAH,IAAGA,OAAH,EAAGA,EAAQoD,WAAU,SAAC7B,GAAD,OAAUA,EAAKT,KAAOA,KACtDd,EAAOqD,OAAOF,EAAO,GACrBjD,EAAS,CACPS,KAAM,qBACNY,KAAMvB,MAEP,OAsBG,yBCDKsD,MAtCf,WAAqB,IAAD,EACmBtE,IADnB,0BACTgB,EADS,EACTA,OAAQC,EADC,EACDA,KAEb0B,GAHc,KAGD,GACjB,OACE,yBAAKtB,UAAU,YACb,yBAAKA,UAAU,kBACb,yBACEA,UAAU,eACVE,IAAI,2JAEN,yBAAKF,UAAU,mBACb,kCAAQJ,EAAOA,EAAKO,MAAQ,uBAC5B,qDACCR,EAAOqB,KAAI,SAACE,GAEX,OADAI,GAAcJ,EAAKP,MAEjB,kBAAC,EAAD,CACES,IAAKF,EAAKT,GACVA,GAAIS,EAAKT,GACTC,MAAOQ,EAAKR,MACZC,MAAOO,EAAKP,MACZE,IAAKK,EAAKL,WAMpB,yBAAKb,UAAU,mBACb,kBAAC,EAAD,CACEsB,WAAYA,EAAW4B,QAAQ,GAC/B3B,WAAU,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAQY,Y,MC+Cf4C,MA/Ef,WACE,IAAM3B,EAAUC,cADD,EAEWS,mBAAS,IAFpB,mBAER/B,EAFQ,KAEDiD,EAFC,OAGiBlB,mBAAS,IAH1B,mBAGRmB,EAHQ,KAGEC,EAHF,KA2Bf,OACE,6BACE,yBAAKtD,UAAU,SACb,kBAAC,IAAD,CAAMC,GAAG,KACP,yBACED,UAAU,cACVE,IAAI,yEAGR,yBAAKF,UAAU,oBACb,uCAEA,8BACE,sCACA,2BACEM,KAAK,QACLiD,SAAU,SAACzB,GAAD,OAAOsB,EAAStB,EAAE0B,OAAO/E,QACnCA,MAAO0B,IAET,wCACA,2BACEG,KAAK,WACLiD,SAAU,SAACzB,GAAD,OAAOwB,EAAYxB,EAAE0B,OAAO/E,QACtCA,MAAO4E,IAET,4BAAQ/C,KAAK,SAASF,QAhDb,SAAC0B,GAClBA,EAAE2B,iBACFhE,EACGiE,2BAA2BvD,EAAOkD,GAClCM,MAAK,SAAClE,GACDA,GACF+B,EAAQO,KAAK,QAGhB6B,OAAM,SAACC,GAAD,OAAWC,MAAMD,EAAME,cAuCxB,YAIF,oEACwC,yCADxC,MAC6D,IAC3D,kCAFF,OAGE,6CAHF,KAKA,4BAAQzD,KAAK,SAASF,QA9CT,SAAC0B,GACpBA,EAAE2B,iBACFhE,EACGuE,+BAA+B7D,EAAOkD,GACtCM,MAAK,SAAClE,GACLK,QAAQC,IAAIN,GACRA,EAAKG,MACP4B,EAAQO,KAAK,QAGhB6B,OAAM,SAACC,GAAD,OAAWC,MAAMD,EAAME,cAqCvB,IADH,+BAMJ,yBAAK/D,UAAU,4BACb,yBAAKA,UAAU,iBACb,kDACA,+CACA,sCAEF,oF,iDCxEKiE,EAAgB,SAACtE,GAAD,cAC3BA,QAD2B,IAC3BA,OAD2B,EAC3BA,EACIuE,QAAO,SAACC,EAAKC,GACb,OAAOD,EAAMC,EAAIzD,QAChB,GACFuC,QAAQ,I,gBCLEmB,E,OAHEC,EAAMC,OAAO,CAC5BC,QAAS,2DC8IIC,MAjIf,WAAoB,IAAD,EACoB9F,IADpB,0BACRgB,EADQ,EACRA,OAAQC,EADA,EACAA,KAAQC,EADR,KAEX6E,EAASC,sBACTC,EAAWC,wBAHA,EAIa3C,oBAAS,GAJtB,mBAIV4C,EAJU,KAIDC,EAJC,OAKmB7C,mBAAS,IAL5B,mBAKV8C,EALU,KAKEC,EALF,OAMS/C,mBAAS,MANlB,mBAMV2B,EANU,KAMHqB,EANG,OAOiBhD,oBAAS,GAP1B,mBAOViD,EAPU,KAOCC,EAPD,OAQuBlD,oBAAS,GARhC,mBAQVmD,EARU,KAQIC,EARJ,KASX9D,EAAUC,cAEhB8D,qBAAU,YAEa,uCAAG,4BAAAC,EAAA,sEAEClB,EAAM,CAC3BmB,OAAQ,OACRC,IAAI,yBAAD,OAAmD,IAAxBzB,EAActE,MAJxB,OAEhBgG,EAFgB,OAMtBL,EAAgBK,EAASC,KAAKP,cANR,2CAAH,qDAQrBQ,KACC,CAAClG,IAEJG,QAAQC,IAAI,eAAgBsF,GAC5B,IAAMS,EAAY,uCAAG,WAAOhE,GAAP,SAAA0D,EAAA,6DACnB1D,EAAE2B,iBACFwB,GAAc,GAFK,SAGGP,EACnBqB,mBAAmBV,EAAc,CAChCW,eAAgB,CACdC,KAAMrB,EAASsB,WAAWC,kBAG7BxC,MAAK,YAAwB,IAArByC,EAAoB,EAApBA,cACPhB,GAAa,GACbF,EAAS,MACTD,GAAc,GAEdpG,EAAGwH,WAAW,SACXC,IADH,OACO1G,QADP,IACOA,OADP,EACOA,EAAM2G,KACVF,WAAW,UACXC,IAAIF,EAAc3F,IAClB+F,IAAI,CACHC,UAAWL,EAAc3F,GACzBiG,OAAQN,EAAcM,OACtBC,KAAMP,EAAcQ,QACpBjH,OAAQA,IAGZE,EAAS,CACPS,KAAM,iBAGRkB,EAAQqF,QAAQ,cA7BD,yDAAH,sDAuClB,OACE,yBAAK7G,UAAU,WACb,yBAAKA,UAAU,sBACb,4BACG,IADH,aAEY,kBAAC,IAAD,CAAMC,GAAG,aAAT,OAAsBN,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQY,OAA9B,UAFZ,KAIA,yBAAKP,UAAU,oBACb,yBAAKA,UAAU,kBACb,kDAEF,yBAAKA,UAAU,oBACb,kCAAIJ,QAAJ,IAAIA,OAAJ,EAAIA,EAAMO,OACV,qDACA,2CAGJ,yBAAKH,UAAU,oBACb,yBAAKA,UAAU,kBACb,0DAEF,yBAAKA,UAAU,iBACZL,EAAOqB,KAAI,SAACE,GAAD,OACV,kBAAC,EAAD,CACEE,IAAKF,EAAKT,GACVA,GAAIS,EAAKT,GACTC,MAAOQ,EAAKR,MACZC,MAAOO,EAAKP,MACZE,IAAKK,EAAKL,WAKlB,yBAAKb,UAAU,oBACb,yBAAKA,UAAU,kBACb,+CAEF,yBAAKA,UAAU,mBACb,0BAAM8G,SAAUhB,GACd,kBAAC,cAAD,CAAa9F,UAAU,aAAauD,SA7C3B,SAACzB,GACpBhC,QAAQC,IAAI+B,GACZiD,EAAWjD,EAAEiF,OACb7B,EAASpD,EAAE+B,MAAQ/B,EAAE+B,MAAME,QAAU,OA4C1BF,GAAS,yBAAKjB,MAAO,CAAEoE,MAAO,QAAUnD,GACzC,yBAAK7D,UAAU,kBACb,kBAAC,IAAD,CACE0B,WAAY,SAACjD,GAAD,OAAW,2CAAiBA,IACxCA,MAAOwF,EAActE,GACrBgC,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,4BACEoF,SAAUjC,GAAcF,GAAWK,EACnC7E,KAAK,UAEL,8BAAO0E,EAAa,yCAAoB,mB,yCCxG3CkC,MAzBf,YAA2B,IAAD,EAATC,EAAS,EAATA,MAEf,OADArH,QAAQC,IAAIoH,GAEV,yBAAKnH,UAAU,SACb,qCACA,2BAAIoH,IAAOC,KAAKF,EAAMvB,KAAKe,MAAMW,OAAO,wBACxC,uBAAGtH,UAAU,aAAamH,EAAM1G,IAHlC,OAIG0G,QAJH,IAIGA,GAJH,UAIGA,EAAOvB,KAAKjG,cAJf,aAIG,EAAoBqB,KAAI,SAACE,GAAD,OACvB,yBAAKlB,UAAU,oBACb,kBAAC,EAAD,CACEoB,IAAKF,EAAKT,GACVA,GAAIS,EAAKT,GACTC,MAAOQ,EAAKR,MACZC,MAAOO,EAAKP,MACZE,IAAKK,EAAKL,IACVoB,YAAY,IAEd,iCAGJ,wBAAIjC,UAAU,gBAAd,kBAAiD,OAALmH,QAAK,IAALA,OAAA,EAAAA,EAAOvB,KAAKc,QAAS,OCaxDa,MAjCf,WAAmB,IAAD,EACYrF,mBAAS,IADrB,mBACTsF,EADS,KACDC,EADC,OAEa9I,IAFb,mBAEPiB,EAFO,KAEPA,KAmBT,OArBgB,KAGhB2F,qBAAU,WACJ3F,EACFf,EAAGwH,WAAW,SACXC,IADH,OACO1G,QADP,IACOA,OADP,EACOA,EAAM2G,KACVF,WAAW,UACXqB,QAAQ,OAAQ,QAChBC,YAAW,SAACC,GAAD,OACVH,EACEG,EAASC,KAAK7G,KAAI,SAACsF,GAAD,MAAU,CAC1B7F,GAAI6F,EAAI7F,GACRmF,KAAMU,EAAIV,eAKlB6B,EAAU,MAEX,CAAC7H,IAEF,yBAAKI,UAAU,UACb,0CACA,yBAAKA,UAAU,qBAAf,OACGwH,QADH,IACGA,OADH,EACGA,EAAQxG,KAAI,SAACmG,GAAD,OACX,kBAAC,EAAD,CAAOA,MAAOA,UClBlBW,EAAUC,YACd,+GAsDaC,MAnDf,WAAgB,IAAD,EACUrJ,IADV,yCACFkB,EADE,KAoBb,OAlBA0F,qBAAU,WACR9F,EAAKwI,oBAAmB,SAACC,GACnBA,GAEFpI,QAAQC,IAAI,YAAZ,OAAyBmI,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAUzH,IACnCZ,EAAS,CACPS,KAAM,WACNV,KAAMsI,KAIRrI,EAAS,CACPS,KAAM,WACNV,KAAM,YAIX,IAED,kBAAC,IAAD,KACE,yBAAKI,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmI,KAAK,UACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,aACV,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,YACV,kBAAC,EAAD,MACA,kBAAC,WAAD,CAAUzD,OAAQoD,GAChB,kBAAC,EAAD,QAGJ,kBAAC,IAAD,CAAOK,KAAK,WACV,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,MACA,kBAAC,EAAD,WChDQC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCXNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,CAAerK,aPTS,CAC1BqB,OAAQ,GACRC,KAAM,MOOuCvB,QPGxB,SAACuK,EAAOC,GAC7B,OAAQA,EAAOvI,MACb,IAAK,gBACH,OAAO,2BACFsI,GADL,IAEEjJ,OAAO,GAAD,mBAAMiJ,EAAMjJ,QAAZ,CAAoBkJ,EAAO3H,SAErC,IAAK,eACH,OAAO,2BACF0H,GADL,IAEEjJ,OAAQ,KAEZ,IAAK,qBACH,OAAO,2BACFiJ,GADL,IAEEjJ,OAAO,YAAKkJ,EAAO3H,QAEvB,IAAK,WACH,OAAO,2BACF0H,GADL,IAEEhJ,KAAMiJ,EAAOjJ,OAEjB,QACE,OAAOgJ,KOzBP,kBAAC,EAAD,QAGJE,SAASC,eAAe,SDsHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBvF,MAAK,SAAAwF,GACJA,EAAaC,gBAEdxF,OAAM,SAAAC,GACL/D,QAAQ+D,MAAMA,EAAME,a","file":"static/js/main.1054a73f.chunk.js","sourcesContent":["import React, { useContext, createContext, useReducer } from \"react\";\r\n\r\n// create dataLayer\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the data\r\nexport const StateProvider = ({ reducer, initialState, children }) => {\r\n  return (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n      {children}\r\n    </StateContext.Provider>\r\n  );\r\n};\r\n\r\n// pull date from the data layer\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDAKnsdyO_jr2JM_5L4wO_hyrO1KqFBzjw\",\r\n  authDomain: \"full-stack-dbef7.firebaseapp.com\",\r\n  databaseURL: \"https://full-stack-dbef7.firebaseio.com\",\r\n  projectId: \"full-stack-dbef7\",\r\n  storageBucket: \"full-stack-dbef7.appspot.com\",\r\n  messagingSenderId: \"700876037391\",\r\n  appId: \"1:700876037391:web:e75b6ccb5e81537d19b27a\",\r\n  measurementId: \"G-D4H3SC4X32\",\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };\r\n","import React from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport \"./header.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\nfunction Header() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const handleClick = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        user: null,\r\n      });\r\n      console.log(\"AftersignOut\", user);\r\n    }\r\n  };\r\n  console.log(\"user Header\", user);\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header__img\"\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG25.png\"\r\n        ></img>\r\n      </Link>\r\n      <div className=\"header__searchbar\">\r\n        <input></input>\r\n        <SearchIcon />\r\n      </div>\r\n      <div className=\"header__nav\">\r\n        <div className=\"header__option\">\r\n          <span className=\"header__optionLineOne\">\r\n            Hello, {user ? user.email : \"Guest\"}\r\n          </span>\r\n          <Link to={!user && \"/login\"}>\r\n            <span className=\"header__optionLineTwo\" onClick={handleClick}>\r\n              {user ? \"Sign Out\" : \"Sign In\"}\r\n            </span>\r\n          </Link>\r\n        </div>\r\n        <Link to=\"/orders\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Return</span>\r\n            <span className=\"header__optionLineTwo\">$ Orders</span>\r\n          </div>\r\n        </Link>\r\n        <div className=\"header__option\">\r\n          <span className=\"header__optionLineOne\">Try</span>\r\n          <span className=\"header__optionLineTwo\">Prime</span>\r\n        </div>\r\n        <Link to=\"/checkout\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingBasketIcon />\r\n            <span className=\"header__optionLineTwo header__count\">\r\n              {basket.length}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Product({ id, title, price, rating, img }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  const addtoBasket = () => {\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        price: price,\r\n        rating: rating,\r\n        img: img,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      {/* <div className=\"product\"> */}\r\n      <div className=\"product__info\">\r\n        <p className=\"product__infoTitle\">{title}</p>\r\n        <p className=\"product__infoPrice\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_) => (\r\n              <p>‚≠ê</p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img className=\"product__infoImage\" src={img}></img>\r\n      <button onClick={addtoBasket}>Add to Basket</button>\r\n      {/* </div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport \"./home.css\";\r\nimport Product from \"./Product\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__container\">\r\n        <img\r\n          className=\"home__image\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/31/AmazonVideo/2020/X-site/Multititle/Aug/1500x600_Hero-Tall_np._CB404803728_.jpg\"\r\n        ></img>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key={1}\r\n            id={1}\r\n            title=\"Make Time: How to focus on what matters every day\"\r\n            price={49.99}\r\n            rating={4}\r\n            img=\"https://m.media-amazon.com/images/I/51gQ7pHF-zL.jpg\"\r\n          />\r\n          <Product\r\n            key={2}\r\n            id={2}\r\n            title=\"Samsung 6.0 Kg Inverter 5 Star Fully-Automatic Front Loading Washing Machine (WW60R20GLMA/TL, White)\"\r\n            price={159.99}\r\n            rating={3}\r\n            img=\"https://images-na.ssl-images-amazon.com/images/I/614-yYoVkUL._SL1500_.jpg\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key={3}\r\n            id={3}\r\n            title=\"Apple iPhone 11 Pro (64GB) - Space Grey\"\r\n            price={999.99}\r\n            rating={5}\r\n            img=\"https://images-na.ssl-images-amazon.com/images/I/61m6DjujESL._SL1024_.jpg\"\r\n          />\r\n          <Product\r\n            key={4}\r\n            id={4}\r\n            title=\"Apple iPad Pro (11-inch, Wi-Fi, 128GB) - Silver (2nd Generation)\"\r\n            price={1299.99}\r\n            rating={4}\r\n            img=\"https://images-na.ssl-images-amazon.com/images/I/815a%2BXjrgvL._SL1500_.jpg\"\r\n          />\r\n          <Product\r\n            key={5}\r\n            id={5}\r\n            title=\"Apple MacBook Pro (16-inch, 16GB RAM, 512GB Storage, 2.6GHz 9th Gen Intel Core i7) - Space Grey\"\r\n            price={1899.99}\r\n            rating={5}\r\n            img=\"https://images-na.ssl-images-amazon.com/images/I/71L2iBSyyOL._SL1500_.jpg\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            key={6}\r\n            id={6}\r\n            title=\"LG 189 cm (75 inches) 4K UHD Smart Nano-cell TV 75SM9400PTA (Ceramic BK + Dark Steel Silver) (2019 Model)\"\r\n            price={2599.99}\r\n            rating={3}\r\n            img=\"https://images-na.ssl-images-amazon.com/images/I/A1Hw0qRh4WL._SL1500_.jpg\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./SubTotal.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nfunction SubTotal({ totalPrice, NumberItem }) {\r\n  const history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  return (\r\n    <div className=\"subTotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <h2>\r\n            SubTotal ({NumberItem} items) : {value}\r\n          </h2>\r\n        )}\r\n        value={totalPrice}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      ></CurrencyFormat>\r\n\r\n      <div className=\"subTotal__gift\">\r\n        <input type=\"checkbox\"></input>\r\n        This order contains a gift\r\n      </div>\r\n      <button onClick={(e) => history.push(\"/payment\")}>\r\n        Proceed to Checkout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SubTotal;\r\n","import React, { useState } from \"react\";\r\nimport \"./CheckoutItem.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { useSpring, animated, config } from \"react-spring\";\r\n\r\nfunction CheckoutItem({ id, title, price, rating, img, hideButton }) {\r\n  const [{ basket }, dispatch] = useStateValue(false);\r\n  const [remove, setRemove] = useState();\r\n  const fade = useSpring({\r\n    opacity: remove ? 0 : 1,\r\n    height: remove ? \"100px\" : \"200px\",\r\n    config: { duration: 500 },\r\n  });\r\n  const removeFrombasket = () => {\r\n    setRemove(!remove);\r\n    setTimeout(() => {\r\n      const index = basket?.findIndex((item) => item.id === id);\r\n      basket.splice(index, 1);\r\n      dispatch({\r\n        type: \"REMOVE_FROM_BASKET\",\r\n        item: basket,\r\n      });\r\n    }, 550);\r\n  };\r\n\r\n  return (\r\n    <animated.div className=\"checkoutItem\" style={fade}>\r\n      <div className=\"\">\r\n        <img className=\"checkoutItem__img\" src={img}></img>\r\n      </div>\r\n      <div className=\"checkoutItem__info\">\r\n        <h4>{title}</h4>\r\n        <p>\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"checkoutItem__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_) => (\r\n              <p>üåü</p>\r\n            ))}\r\n        </div>\r\n        {!hideButton && (\r\n          <button onClick={removeFrombasket}>Remove from basket</button>\r\n        )}\r\n      </div>\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default CheckoutItem;\r\n","import React, { useState } from \"react\";\r\nimport \"./checkout.css\";\r\nimport SubTotal from \"./SubTotal\";\r\nimport CheckoutItem from \"./CheckoutItem\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nfunction Checkout() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  var totalPrice = 0;\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/31/AmazonVideo/2020/X-site/SingleTitle/ShakuntalaDevi/400x39-SWM_With-Disclaimer_np._CB406908440_.jpg\"\r\n        ></img>\r\n        <div className=\"checkout__title\">\r\n          <h2>Hi,{user ? user.email : \"Sign In to Checkout\"}</h2>\r\n          <h2>Your shopping Basket </h2>\r\n          {basket.map((item) => {\r\n            totalPrice += item.price;\r\n            return (\r\n              <CheckoutItem\r\n                key={item.id}\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                img={item.img}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className=\"checkout__right\">\r\n        <SubTotal\r\n          totalPrice={totalPrice.toFixed(2)}\r\n          NumberItem={basket?.length}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport { auth } from \"./firebase\";\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const SignInUser = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        if (auth) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  const registerUser = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(auth);\r\n        if (auth.user) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"login\">\r\n        <Link to=\"/\">\r\n          <img\r\n            className=\"login__logo\"\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg\"\r\n          ></img>\r\n        </Link>\r\n        <div className=\"login__container\">\r\n          <h1>Sign In</h1>\r\n\r\n          <form>\r\n            <h5>E-mail</h5>\r\n            <input\r\n              type=\"emial\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              value={email}\r\n            ></input>\r\n            <h5>Password</h5>\r\n            <input\r\n              type=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              value={password}\r\n            ></input>\r\n            <button type=\"submit\" onClick={SignInUser}>\r\n              Sign In\r\n            </button>\r\n          </form>\r\n          <p>\r\n            By Signing in , you agree to Amazon's <a>Conditions</a> of{\" \"}\r\n            <a>Use</a> and\r\n            <a>Privacy Notice</a>.\r\n          </p>\r\n          <button type=\"submit\" onClick={registerUser}>\r\n            {\" \"}\r\n            Cerate new Amazon Account\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"login__bottom_contaniner\">\r\n        <div className=\"login__bottom\">\r\n          <a> Conditions of Use </a>\r\n          <a> Privacy Notice </a>\r\n          <a> Help </a>\r\n        </div>\r\n        <p>¬© 1996-2020, Amazon.com, Inc. or its affiliates</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nexport const getTotalPrice = (basket) =>\r\n  basket\r\n    ?.reduce((pre, cur) => {\r\n      return pre + cur.price;\r\n    }, 0)\r\n    .toFixed(2);\r\n\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n    case \"EMPTY_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [],\r\n      };\r\n    case \"REMOVE_FROM_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...action.item],\r\n      };\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:5001/full-stack-dbef7/us-central1/api\", // here will be the api endpoint\r\n});\r\nexport default instance;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport CheckoutItem from \"./CheckoutItem\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./payment.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getTotalPrice } from \"./reducer\";\r\nimport {\r\n  CardElement,\r\n  Elements,\r\n  useStripe,\r\n  useElements,\r\n} from \"@stripe/react-stripe-js\";\r\nimport axios from \"./axios\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { db } from \"./firebase\";\r\n// function component\r\nfunction Payment() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [disable, setDisable] = useState(true);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    // get Client Secret when there is change in basket\r\n    const getClientSecret = async () => {\r\n      // post request to backend api\r\n      const response = await axios({\r\n        method: \"post\",\r\n        url: `/payment/create?total=${getTotalPrice(basket) * 100}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n    getClientSecret();\r\n  }, [basket]);\r\n\r\n  console.log(\"clientSecret\", clientSecret);\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setProcessing(true);\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        setSucceeded(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        db.collection(\"users\")\r\n          .doc(user?.uid)\r\n          .collection(\"orders\")\r\n          .doc(paymentIntent.id)\r\n          .set({\r\n            paymentId: paymentIntent.id,\r\n            amount: paymentIntent.amount,\r\n            date: paymentIntent.created,\r\n            basket: basket,\r\n          });\r\n\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        history.replace(\"/orders\");\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e);\r\n    setDisable(e.empty);\r\n    setError(e.error ? e.error.message : \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment\">\r\n      <div className=\"payment__container\">\r\n        <h1>\r\n          {\" \"}\r\n          Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\r\n        </h1>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3> Delivary address</h3>\r\n          </div>\r\n          <div className=\"payment__address\">\r\n            <p>{user?.email}</p>\r\n            <p>pawan nagar ,TV center</p>\r\n            <p>Aurangabad</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>review items and delivery</h3>\r\n          </div>\r\n          <div className=\"payment__item\">\r\n            {basket.map((item) => (\r\n              <CheckoutItem\r\n                key={item.id}\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                img={item.img}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Payment method</h3>\r\n          </div>\r\n          <div className=\"payment__detail\">\r\n            <form onSubmit={handleSubmit}>\r\n              <CardElement className=\"stripeCard\" onChange={handleChange} />\r\n              {/* Error */}\r\n              {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n              <div className=\"payment__price\">\r\n                <CurrencyFormat\r\n                  renderText={(value) => <h2>Order Total {value}</h2>}\r\n                  value={getTotalPrice(basket)}\r\n                  displayType={\"text\"}\r\n                  thousandSeparator={true}\r\n                  prefix={\"$\"}\r\n                />\r\n                <button\r\n                  disabled={processing || disable || succeeded}\r\n                  type=\"submit\"\r\n                >\r\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","import React from \"react\";\r\nimport \"./Order.css\";\r\nimport CheckoutItem from \"./CheckoutItem\";\r\nimport moment from \"moment\";\r\n\r\nfunction Order({ order }) {\r\n  console.log(order);\r\n  return (\r\n    <div className=\"order\">\r\n      <h2>Order</h2>\r\n      <p>{moment.unix(order.data.date).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n      <p className=\"order__id\">{order.id}</p>\r\n      {order?.data.basket?.map((item) => (\r\n        <div className=\"order__container\">\r\n          <CheckoutItem\r\n            key={item.id}\r\n            id={item.id}\r\n            title={item.title}\r\n            price={item.price}\r\n            img={item.img}\r\n            hideButton={true}\r\n          />\r\n          <hr></hr>\r\n        </div>\r\n      ))}\r\n      <h2 className=\"order__price\">Order Total: ${order?.data.amount / 100}</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Orders.css\";\r\nimport { db } from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from \"./Order\";\r\nfunction Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [{ user }, dispatch] = useStateValue();\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collection(\"users\")\r\n        .doc(user?.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"date\", \"desc\")\r\n        .onSnapshot((snapshot) =>\r\n          setOrders(\r\n            snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          )\r\n        );\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n  return (\r\n    <div className=\"orders\">\r\n      <h1>Your Order</h1>\r\n      <div className=\"orders__container\">\r\n        {orders?.map((order) => (\r\n          <Order order={order} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Header from \"./header\";\r\nimport Home from \"./home\";\r\nimport Checkout from \"./checkout\";\r\nimport Login from \"./Login\";\r\nimport { auth } from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Payment from \"./payment\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport Orders from \"./Orders\";\r\nconst Promise = loadStripe(\r\n  \"pk_test_51HRWD2Ak5diG4tD3h5Oy2FOri3NBpF9Q5hmUf7RjhkmoTmAeerYqhw695CXNEeysK6USLenl2liy3hQihLWu8FqB00EjwQXfED\" //public api key of stripe\r\n);\r\n\r\nfunction App() {\r\n  const [{}, dispatch] = useStateValue();\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        //user login then do the follwing\r\n        console.log(\"the user \", authUser?.id);\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: authUser,\r\n        });\r\n      } else {\r\n        // log out if any\r\n        dispatch({\r\n          type: \"STE_USER\",\r\n          user: null,\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route path=\"/Login\">\r\n            <Login />\r\n          </Route>\r\n          <Route path=\"/checkout\">\r\n            <Header />\r\n            <Checkout />\r\n          </Route>\r\n          <Route path=\"/payment\">\r\n            <Header />\r\n            <Elements stripe={Promise}>\r\n              <Payment />\r\n            </Elements>\r\n          </Route>\r\n          <Route path=\"/orders\">\r\n            <Header />\r\n            <Orders />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Header />\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { StateProvider } from \"./StateProvider\";\nimport { initialState, reducer } from \"./reducer\";\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}